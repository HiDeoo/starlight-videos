---
import type { Props } from '@astrojs/starlight/props'

import { getLink } from '../libs/links'
import { getCollections } from '../libs/video'

import Card from './Card.astro'
import CardGrid from './CardGrid.astro'

const { locale } = Astro.props

const collections = getCollections()
---

<CardGrid>
  {
    collections.map((collection) => (
      <Card
        description={collection.data.video.description ?? collection.data.description}
        link={getLink(collection.id, locale)}
        title={collection.data.title}
      />
    ))
  }
</CardGrid>
