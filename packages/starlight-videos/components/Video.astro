---
import { YouTube } from '@astro-community/astro-embed-youtube'
import type { Props as StarlightProps } from '@astrojs/starlight/props'

import type { CollectionVideo, Video } from '../schemas'

import Difficulty from './Difficulty.astro'
import VideoCollectionVideos from './VideoCollectionVideos.astro'

interface Props extends StarlightProps {
  video: Video | CollectionVideo
}

const { video } = Astro.props
---

<div>
  <div>
    <YouTube id={video.link} />
  </div>
  {video.difficulty && <Difficulty value={video.difficulty} />}
  {video.type === 'collection-video' && <VideoCollectionVideos {...Astro.props} collectionVideo={video} />}
  {
    video.actions.length > 0 && (
      <div>
        Actions:
        {video.actions.map((action) => (
          <a href={action.link}>{action.text}</a>
        ))}
      </div>
    )
  }
</div>
