---
import type { Props } from '@astrojs/starlight/props'

import { getEntryPath } from '../libs/path'
import { getVideos } from '../libs/video'

import Card from './Card.astro'
import CardGrid from './CardGrid.astro'

const { locale } = Astro.props

const videos = await getVideos(locale)
---

<CardGrid>
  {
    videos.map((video) => (
      <Card
        description={video.data.video.description ?? video.data.description}
        link={getEntryPath(video.id, locale)}
        title={video.data.title}
      />
    ))
  }
</CardGrid>
