---
import Default from '@astrojs/starlight/components/Page.astro'
import type { Props } from '@astrojs/starlight/props'

import { isAnyVideoEntry } from '../libs/video'

const { entry } = Astro.props
let { hasSidebar, pagination, toc } = Astro.props

if (isAnyVideoEntry(entry)) {
  entry.data = {
    ...entry.data,
    template: 'splash',
  }
  hasSidebar = false
  pagination = { prev: undefined, next: undefined }
  toc = undefined
}
---

<Default {...Astro.props} {hasSidebar} {entry} {pagination} {toc}><slot /></Default>
